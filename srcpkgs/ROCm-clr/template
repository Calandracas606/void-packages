# Template file for 'ROCm-clr'
pkgname=ROCm-clr
version=5.7.1
revision=1
#archs="i686 x86_64"
build_wrksrc=clr-rocm-${version}
build_style=cmake
#build_helper=python3
configure_args=" -DCLR_BUILD_HIP=ON
	-DHIPCC_BIN_DIR=/usr/bin
	-DHIP_COMMON_DIR=${XBPS_BUILDDIR}/${pkgname}-${version}/HIP-rocm-${version}
"
# -D__HIP_ENABLE_PCH=No
#-${version}/${_pkg}/kernel"
#make_build_args=""
#make_install_args=""
#conf_files=""
#make_dirs="/var/log/dir 0755 root root"
hostmakedepends="pkg-config xxd hipcc perl git python3 python3-cppheaderparser"
makedepends="ROCr ROCt comgr libnuma-devel elfutils-devel libdrm-devel libffi-devel libxml2-devel ncurses-libtinfo-devel llvm-project-amd ROCm-device-libs MesaLib-devel"
#makedepends=""
depends=""
short_desc="AMD CLR - Compute Language Runtimes"
maintainer="Daniel Martinez <danielmartinez@cock.li>"
license="GPL-3.0-or-later"
homepage="https://github.com/ROCm-Developer-Tools/clr"
#changelog=""
#distfiles="${homepage}/archive/refs/tags/rocm-${version}.tar.gz"
#checksum=c78490335233a11b4d8a5426ace7417c555f5e2325de10422df06c0f0f00f7eb
#distfiles="https://github.com/ROCm-Developer-Tools/HIP/archive/refs/tags/rocm-${version}.tar.gz"
#checksum=c78490335233a11b4d8a5426ace7417c555f5e2325de10422df06c0f0f00f7eb
distfiles="${homepage}/archive/refs/tags/rocm-${version}.tar.gz https://github.com/ROCm-Developer-Tools/HIP/archive/refs/tags/rocm-${version}.tar.gz>HIP.tar.gz"
checksum="c78490335233a11b4d8a5426ace7417c555f5e2325de10422df06c0f0f00f7eb eaa0e14a9ae45c58ed37863797b683a7778b3cbbf92f5b6529ec65fd61d61f3e"

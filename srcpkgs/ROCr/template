# Template file for 'ROCr'
pkgname=ROCr
version=5.6.1
revision=1
#archs="i686 x86_64"
build_wrksrc=src
build_style=cmake
configure_args=" -DIMAGE_SUPPORT=OFF "
hostmakedepends="llvm-project-amd-devel ROCm-cmake pkg-config xxd"
makedepends="ROCt ROCm-device-libs libnuma-devel elfutils-devel libdrm-devel libffi-devel libxml2-devel ncurses-libtinfo-devel libedit-devel"
depends=""
short_desc="HSA Runtime API and runtime for ROCm"
maintainer="Daniel Martinez <danielmartinez@cock.li>"
license="NCSA"
homepage="https://github.com/radeonopencompute/rocr-runtime"
#changelog=""
distfiles="https://github.com/RadeonOpenCompute/ROCR-Runtime/archive/refs/tags/rocm-${version}.tar.gz"
checksum=4de9a57c2092edf9398d671c8a2c60626eb7daf358caf710da70d9c105490221
subpackages="ROCr-devel"

ROCr-devel_package() {
	short_desc+=" - development files"
	depends="ROCr>=${version}_${revision}"
	pkg_install() {
		vmove /usr/include
		vmove /usr/hsa/include
		vmove /usr/lib/cmake
	}
}

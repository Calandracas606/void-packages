--- a/drivers/base/regmap/regcache.c
+++ b/drivers/base/regmap/regcache.c
@@ -448,6 +448,7 @@
 			 unsigned int max)
 {
 	int ret = 0;
+	unsigned int i;
 	const char *name;
 	bool bypass;
 	struct rb_node *node;
--- a/drivers/base/regmap/regcache.c
+++ b/drivers/base/regmap/regcache.c
@@ -339,11 +339,6 @@
 	return 0;
 }
 
-static int rbtree_all(const void *key, const struct rb_node *node)
-{
-	return 0;
-}
-
 /**
  * regcache_sync - Sync the register cache with the hardware.
  *

# Template file for 'duckyPad_Configurator'
pkgname=duckyPad_Configurator
version=1.6.3
revision=1
_duckypad_dir="usr/share/duckypad"
pycompile_dirs="${_duckypad_dir}"
build_wrksrc=pc_software
depends="python3-tkinter python3-appdirs python3-hid python3-PyAutoGUI"
short_desc="Companion app to configure duckyPad"
maintainer="Daniel Martinez <danielmartinez@cock.li>"
license="MIT"
homepage="https://github.com/dekuNukem/duckyPad"
distfiles="https://github.com/dekuNukem/duckyPad/archive/refs/tags/${version}.tar.gz"
checksum=67342c903f706c0bcfbb4f9f33925d75dd9eec85c0e1a89fea90ccec542d5c1c
python_version=3.12

do_install() {
	vmkdir usr/share/applications
	vinstall ${FILESDIR}/duckypad.desktop 755 usr/share/applications

	vmkdir "${_duckypad_dir}"

	rm _scrap.py
	for _file in *.py; do
		vinstall "${_file}" 644 "${_duckypad_dir}"
	done

	vinstall _icon.ico 644 "${_duckypad_dir}"

	vmkdir usr/lib/udev/rules.d
	vinstall ${FILESDIR}/20-duckyPad.rules 644 usr/lib/udev/rules.d

	vbin ${FILESDIR}/duckypad_config

	vlicense ../LICENSE
}

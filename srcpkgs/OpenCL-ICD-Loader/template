# Template file for 'OpenCL-ICD-Loader'
pkgname=OpenCL-ICD-Loader
version=2023.12.14
revision=1
build_style=cmake
makedepends="OpenCL-Headers"
short_desc="Khronos OpenCL ICD Loader"
maintainer="Daniel Martinez <danielmartinez@cock.li>"
license="Apache-2.0"
homepage="https://github.com/KhronosGroup/OpenCL-ICD-Loader"
distfiles="https://github.com/KhronosGroup/OpenCL-ICD-Loader/archive/refs/tags/v${version}.tar.gz"
checksum=af8df96f1e1030329e8d4892ba3aa761b923838d4c689ef52d97822ab0bd8917

ocl-icd-devel_package() {
	build_style=meta
	depends="OpenCL-ICD-Loader-devel>=${version}_${revision}"
	short_desc+=" (transitional dummy package)"
}

ocl-icd_package() {
	build_style=meta
	depends="OpenCL-ICD-Loader>=${version}_${revision}"
	short_desc+=" (transitional dummy package)"
}

OpenCL-ICD-Loader-devel_package() {
	depends="OpenCL-ICD-Loader-${version}_${revision}"
	short_desc+=" - development files"
	pkg_install() {
		vmove usr/lib/pkgconfig/OpenCL.pc
		vmove usr/share/cmake/OpenCLICDLoader
	}
}
